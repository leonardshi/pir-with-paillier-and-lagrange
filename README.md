# PIR with Paillier and Lagrange Interpolation

本项目是一个基于关键词的私有信息检索（PIR）演示，结合了 Paillier 同态加密和拉格朗日插值算法。可以在加密状态下安全查询敏感数据，实现示范级的数据库私密查找与密钥重构原理展示。

## 项目原理简述

- **Paillier 同态加密**：支持加法同态性质，允许在密文上直接运算（E(a) * E(b) = E(a + b)），从而实现加密状态下的数据操作。
- **拉格朗日插值**：用于将给定数据点唯一编码为多项式，使任意目标点值可又重算还原。

项目流程：
1. 将原始数据点用拉格朗日插值得到多项式。
2. 用户选择目标key，用Paillier公钥加密所有目标key的n次幂。
3. 数据方收到密文向量后，利用多项式系数同态计算密文检索结果。
4. 用户解密还原实际结果。

## 典型应用场景
- 隐私信息检索 (PIR)
- 密钥重构、门限分割和恢复
- 安全数据库检索与数字货币分布式签名

## 如何运行示例（命令行方式）

```bash
# 1. 安装依赖（需python3.10+，pip, 已支持虚拟环境）
pip install -r requirements.txt
# 或
pip install phe scipy numpy matplotlib pandas

# 2. 运行主程序
taget目录下执行：
python3 src/main.py
# 按提示输入你想查询的目标key
```

## 主要源码说明

- `src/main.py` —— 主流程，同态加密/插值/PIR核心逻辑
- `src/lagrange.ipynb` —— 多项式插值与可视化demo

### 关键技术细节
- 插值和输入数据自动归一化，避免系数溢出和数值不稳定
- 支持定点高精度放大，保证查询输出整数准确无误
- 支持任意rawDataset自定义扩展

## 注意事项
- 非保密级完整PIR库（仅用于基础研究与算法演示）
- 高次插值或极端点外推（区间跨度极大时）结果易发散，安全业务可分段插值或缩小点距
- Paillier库仅适合测试和研发，不建议生产直接使用

---

如需专用PIR/门限设计、接口集成说明、代码定制请随时联系贡献者。
